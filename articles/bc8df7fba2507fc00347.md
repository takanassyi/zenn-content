---
title: "React ã®å®Ÿè¡Œç’°å¢ƒã‚’ docker-compose ã§æ§‹ç¯‰ã™ã‚‹"
emoji: "ğŸƒ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["react", "typescript", "docker", "dockercompose", "template"]
published: true
---

[shields.io](https://shields.io/) ã§ãƒãƒƒã‚¸ä½œã‚‹ã®æ¥½ã—ã„ã‚ˆã­

# ã¯ã˜ã‚ã«

- React + TypeScript ã®é–‹ç™ºåŠã³å®Ÿè¡Œç’°å¢ƒã‚’ Docker (docker-compose) ã§æ§‹ç¯‰ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚’ GitHub ã§å…¬é–‹

https://github.com/takanassyi/react-ts-dev

# å‹•ä½œç¢ºèªç’°å¢ƒ

- macOS Catalina : 10.15.7
- docker desktop : 3.3.1(63152)
  - Engine: 20.10.5
  - Compose: 1.29.0
- Visual Studio Code : 1.56.0

# GitHub ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒª

- ã“ã‚Œã¾ã§ã¯ã€GitHub ã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹é–‹ç™ºãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ã†ã«ã¯ã€fork ã‚‚ã—ãã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã‹æ–¹æ³•ãŒãªã‹ã£ãŸ

> (ä»¥ä¸‹ã€[å…¬å¼ã®èª¬æ˜](https://docs.github.com/ja/github/creating-cloning-and-archiving-repositories/creating-a-template-repository))
> æ—¢å­˜ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ã—ã¦ã€è‡ªåˆ†ã‚„ä»–ã®ãƒ¦ãƒ¼ã‚¶ãŒåŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã€ãƒ–ãƒ©ãƒ³ãƒã€ãŠã‚ˆã³ãƒ•ã‚¡ã‚¤ãƒ«ã§æ–°ã—ã„ãƒªãƒã‚¸ãƒˆãƒªã‚’ç”Ÿæˆã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
> (ä¸­ç•¥)
> ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«ã™ã‚‹ã¨ã€ãƒªãƒã‚¸ãƒˆãƒªã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒ¦ãƒ¼ã‚¶ã¯èª°ã§ã‚‚ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ–ãƒ©ãƒ³ãƒã¨åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¨ãƒ•ã‚¡ã‚¤ãƒ«ã§æ–°ã—ã„ãƒªãƒã‚¸ãƒˆãƒªã‚’ç”Ÿæˆã§ãã¾ã™ã€‚

- (fork ã¨æ¯”è¼ƒã™ã‚‹ã¨)ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€fork å…ƒã®ã‚³ãƒŸãƒƒãƒˆã®ãƒ­ã‚°ã‚‚æ®‹ã‚‰ãšã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«æ–°ã—ããƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã£ãŸ
- (ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¨æ¯”è¼ƒã™ã‚‹ã¨)ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ â†’ git åˆæœŸåŒ– â†’ å†ã‚³ãƒŸãƒƒãƒˆã®ä¸€é€£ã®æ‰‹é–“ã‚’çœç•¥ã§ãã‚‹
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã¯ä¸‹è¨˜ã®å›³ã®ã‚ˆã†ã« `Use this template` ã«å¤‰æ›´ã•ã‚Œã¦ã„ã‚‹

![image](https://storage.googleapis.com/zenn-user-upload/1fneol2xscxgbj84efwrko7uj58r)

# react-ts-dev

## ä½¿ã„æ–¹

- åˆå›èµ·å‹•æ™‚ã¯ Docker Image ã®ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦
- ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã—ã€`node_modules` ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```
$ docker compose build
$ docker compose run --rm frontend sh -c 'cd frontend && yarn install'
```

- ä¸Šè¨˜ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†å¾Œã€å®Ÿè¡Œç’°å¢ƒã‚’ç«‹ã¡ä¸Šã’ã‚‹

```
$ docker compose up
```

- çµ‚äº†ã™ã‚‹ã¨ãã¯

```
$ docker compose down
```

## ãƒ–ãƒ©ãƒ³ãƒå†…å®¹

- å…¬é–‹ã—ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®ãƒ–ãƒ©ãƒ³ãƒã¯ `main`, `feature/material-ui-v4.11.1`, `feature/material-ui-v5.0.0-alpha.32` ã® 3 ã¤

:::message alert
`node_modules/`ã¯ git ç®¡ç†ã®å¯¾è±¡å¤–ã®ãŸã‚ã€ `git switch`ã§ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨æ­£ã—ãå‹•ä½œã—ãªã„å ´åˆãŒã‚ã‚Šã¾ã™
:::

### main ãƒ–ãƒ©ãƒ³ãƒ

- React+TypeScript ã®é–‹ç™ºåŠã³å®Ÿè¡Œç’°å¢ƒ
- Visual Studio Code ä¸Šã§é–‹ç™ºã‚’è¡Œã†ã“ã¨ã‚’æƒ³å®š
- ä¸‹è¨˜ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ™ãƒ¼ã‚¹ã¨ã—ãŸ linter, formatter ã®æ©Ÿèƒ½ä»˜ã

https://github.com/oukayuka/Riakuto-StartingReact-ja3.1/tree/bcbef60c13c1f59a1f5507e5cbd743248d233b73/06-lint/04-advanced

#### å®Ÿè¡Œçµæœ

![react-demo](https://storage.googleapis.com/zenn-user-upload/3ozdvpsj59m743xc8ct787rij2vg)

### feature/material-ui-v4.11.1

- main ãƒ–ãƒ©ãƒ³ãƒã«åŠ ãˆã¦ material-ui ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¿½åŠ 

https://material-ui.com/

#### å®Ÿè¡Œçµæœ

- ä¸‹è¨˜ã®å›³ã®ã‚ˆã†ã« material-ui ã® Button ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°æˆåŠŸ

![material-ui-v4](https://storage.googleapis.com/zenn-user-upload/7jbrvhxw0io9jgfhyg9ag66v6o5w)

### feature/material-ui-v5.0.0-alpha.32

- main ãƒ–ãƒ©ãƒ³ãƒã«åŠ ãˆã¦ material-ui ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç‰ˆ(ver.5) ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¿½åŠ 

https://next.material-ui.com/

#### å®Ÿè¡Œçµæœ

- ä¸‹è¨˜ã®å›³ã®ã‚ˆã†ã« material-ui ã® Button ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°æˆåŠŸ

![material-ui-v5](https://storage.googleapis.com/zenn-user-upload/7jbrvhxw0io9jgfhyg9ag66v6o5w)

# ãŠã‚ã‚Šã«

- `backend` ä½•ã‹ä½œã‚‹ã‹ãƒ»ãƒ»ãƒ»
